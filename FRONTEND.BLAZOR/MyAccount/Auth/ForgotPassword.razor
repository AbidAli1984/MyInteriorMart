@page "/ForgotPassword"
@inject NotificationService _notice
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div id="sign-in-dialog" class="dialog-mfp zoom-anim-dialog">
                <div class="step first">
                    <h2 class="text-center pt-3">@(isOtpGenerated ? "Verify OTP" : "Forgot Password")</h2>
                    <div class="tab-content checkout">
                        <div class="" id="">
                            @if (isOtpGenerated)
                            {
                                <div class="form-group">
                                    <input @bind-value="@UserRegisterVM.UserOtp" Class="form-control" type="tel" placeholder="otp" maxlength="6" />
                                    <i class="icon_key_alt"></i>
                                </div>
                                <span class="@(isError ? " text-danger" : "text-success" )">@message</span>
                                <div class="form-group">
                                    <input @bind-value="@UserRegisterVM.Password" class="form-control" type="password" required placeholder="Password" maxlength="100" />
                                    <i class="icon_lock_alt"></i>
                                    <span class="text-danger field-validation-error">@UserRegisterVM.passwordErrMessage</span>
                                </div>
                                <div class="form-group">
                                    <input @bind-value="@UserRegisterVM.ConfirmPassword" class="form-control" type="password" required placeholder="Confirm Password" maxlength="100" />
                                    <i class="icon_lock_alt"></i>
                                    <span class="text-danger field-validation-error">@UserRegisterVM.confirmPasswordErrMessage</span>
                                </div>
                                <span class="text-danger">@message</span>
                                <button @onclick="@(async () => await VerifyOTP())" class="btn btn-primary w-100">Submit</button>
                            }
                            else
                            {
                                <div class="form-group">
                                    <input @bind-value="@UserRegisterVM.Email" class="form-control" type="email" required placeholder="Email ID/Mobile No" maxlength="100" />
                                    <i class="icon_mail_alt"></i>
                                    <span class="text-danger field-validation-error">@UserRegisterVM.emailErrMessage</span>
                                </div>
                                <button @onclick="@(async () => GenerateOTP())" class="btn btn-primary w-100">Send OTP</button>
                            }
                            <div class="clearfix add_bottom_15">
                                <div class="checkboxes float-left" style="color: #999;">
                                    Already have an account!
                                </div>
                                <div class="float-right">
                                    <a href="/Auth/Login">Sign In</a>
                                </div>
                            </div>
                        </div>
                        <!-- /tab_2 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>